<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Nouvelle r√©servation</title>
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/forms.css">
    <link rel="stylesheet" href="/assets/css/autocomplete.css">
</head>
<body>
    <nav class="navbar">
        <h1>Biblioth√®que - Nouvelle r√©servation</h1>
        <div class="nav-links">
            <a href="/dashboard">üìä Dashboard</a>
            <a href="/livre/list">üìö Livres</a>
            <a href="/membre/list">üë• Membres</a>
            <a href="/emprunt/list">üîÑ Emprunts</a>
            <a href="/reservation/list">üìã R√©servations</a>
            <a href="/emprunt/retards">‚ö†Ô∏è Retards</a>
            <a href="/logout">üö™ D√©connexion</a>
        </div>
    </nav>
    
    <div class="container">
        <div class="form-container">
            <h1>R√©server un livre</h1>
            
            <!-- <div class="info-message">
                <strong>Information :</strong> 
                <ul>
                    <li>Seuls les livres actuellement emprunt√©s peuvent √™tre r√©serv√©s</li>
                    <li>Un membre ne peut r√©server qu'un exemplaire de chaque livre</li>
                    <li>Les r√©servations sont honor√©es automatiquement par ordre d'arriv√©e</li>
                </ul>
            </div>
             -->
            <!-- {% if error %}
            <div class="error-message">
                {{ error }}
            </div>
            {% endif %} -->
            
            <form method="post" action="/reservation/reserver" id="reservation-form">
                <input type="hidden" name="id_membre" id="id_membre" required>
                <input type="hidden" name="id_livre" id="id_livre" required>
                
                <div class="form-group">
                    <label for="search_membre">Rechercher un membre</label>
                    <div class="autocomplete">
                        <input type="text" id="search_membre" placeholder="Commencez √† taper le nom d'un membre..." class="search-input" autocomplete="off">
                        <div id="membre-autocomplete-list" class="autocomplete-items"></div>
                    </div>
                    <div id="selected-membre" class="selected-item hidden">
                        <strong>Membre s√©lectionn√©:</strong> 
                        <span id="membre-nom"></span> 
                        <span id="membre-prenom"></span> 
                        (<span id="membre-email"></span>)
                        <button type="button" onclick="clearSelection('membre')" class="clear-btn">√ó</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="search_livre">Rechercher un livre √† r√©server</label>
                    <div class="autocomplete">
                        <input type="text" id="search_livre" placeholder="Commencez √† taper le titre d'un livre..." class="search-input" autocomplete="off">
                        <div id="livre-autocomplete-list" class="autocomplete-items"></div>
                    </div>
                    <div id="selected-livre" class="selected-item hidden">
                        <strong>Livre s√©lectionn√©:</strong> 
                        <span id="livre-titre"></span> - 
                        <span id="livre-auteur"></span>
                        <span id="livre-statut"></span>
                        <button type="button" onclick="clearSelection('livre')" class="clear-btn">√ó</button>
                    </div>
                </div>
                
                <div class="form-actions">
                    <a href="/reservation/list" class="btn">Retour</a>
                    <input type="submit" value="R√©server le livre" class="btn btn-primary" id="submit-btn" disabled>
                </div>
            </form>
        </div>
    </div>

    <script src="/assets/js/reservation_autocomplete.js"></script>
</body>
</html>